@model List<Capstone_toDoList.Models.TaskItem>
@{
    ViewData["Title"] = "Tasks Lists";
}

<h1 style="margin-bottom:0">Tasks List</h1>
<div class="task-lists-header">
    <div class="dropdown">
      <button class="dropbtn">Priority</button>
      <div class="dropdown-prio">
        <a href="#">Critical</a>
        <a href="#">High</a>
        <a href="#">Medium</a>
        <a href="#">Low</a>
      </div>
    </div>
    <div class="dropdown">
      <button class="dropbtn">Category</button>
      <div class="dropdown-category">
        <a href="#">School</a>
        <a href="#">Link 2</a>
        <a href="#">Link 3</a>
      </div>
    </div>

    <div class="dropdown">
      <button class="dropbtn">Due Date</button>
      <div class="dropdown-due">
        <a href="#">Near -> Far</a>
        <a href="#">Far -> Near</a>
      </div>
    </div>

    <button id="addTaskBtn">Add Task</button>
</div>
    

    <!-- POPUP FOR ADD HTML -->
<div id="addTaskModal"
     class="modal">
        <div class="modal-content">
            <span id="x-button" class="close">&times;</span>
            <form asp-action="AddTask" method="post">
                <label>Title:</label>
                <input type="text" name="Title" id="Title" required />

                <label>Description:</label>
                <textarea name="Description" id="Description"></textarea>

                <label for="category">Category:</label>
                <select name="category" id="category" required>
                  <option value="" disabled selected hidden>-- Select a category --</option>
                  <option value="School">School</option>
                  <option value="Household">Household</option>
                  <option value="Work">Work</option>
                  <option value="Hobby">Hobby</option>
                  <option value="Others">Others</option>
                </select>

                <label>Due Date:</label>
                <input type="date" name="DueDate" id="DueDate"required/>

                <div class="button-group">
                    <button type="submit">Save Task</button>
                    <button type="button" class="close">Cancel</button>
                </div>
            </form>
        </div>
 </div>

<!-- Task list display here -->
<div class="task-container">
    @* Loop through tasks in the model *@
    @foreach (var task in Model)
     {
    <div class="task-card">
         <h3>@task.Title</h3>
         <h3>@task.Id</h3>
         <p>@task.Description</p>
         <p>Category: @task.Category</p>
         <p>Due: @task.DueDate.ToShortDateString()</p>
         <p>Status: @(task.IsCompleted ? "Done ✅" : "Pending ⏳")</p>

         <!--CRUD//// dipa siya tapos wala pang backend--->
         <div class="CRUD-buttons">
                <button type="complete">Completed</button>
                <button type="edit">Edit Task</button>
                <button type="delete" class="close">Delete</button>
         </div>
     </div>}
</div>


